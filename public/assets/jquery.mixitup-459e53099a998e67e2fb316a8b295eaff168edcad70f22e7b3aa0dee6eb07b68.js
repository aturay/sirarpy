!function(b){function c(t,e,i,a,s){function n(){p.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),e&&w(e,i,a,s),s.startOrder=[],s.newOrder=[],s.origSort=[],s.checkSort=[],f.removeStyle(s.prefix+"filter, filter, "+s.prefix+"transform, transform, opacity, display").css(s.clean).removeAttr("data-checksum"),window.atob||f.css({display:"none",opacity:"0"});var t=s.resizeContainer?"height":"";p.removeStyle(s.prefix+"transition, transition, "+s.prefix+"perspective, perspective, "+s.prefix+"perspective-origin, perspective-origin, "+t),"list"==s.layoutMode?(h.css({display:s.targetDisplayList,opacity:"1"}),s.origDisplay=s.targetDisplayList):(h.css({display:s.targetDisplayGrid,opacity:"1"}),s.origDisplay=s.targetDisplayGrid),s.origLayout=s.layoutMode;setTimeout(function(){if(f.removeStyle(s.prefix+"transition, transition"),s.mixing=!1,"function"==typeof s.onMixEnd){var t=s.onMixEnd.call(this,s);s=t||s}})}if(clearInterval(s.failsafe),s.mixing=!0,s.filter=t,"function"==typeof s.onMixStart){var r=s.onMixStart.call(this,s);s=r||s}for(var o=s.transitionSpeed,l=0;l<2;l++){var c=0==l?c=s.prefix:"";s.transition[c+"transition"]="all "+o+"ms linear",s.transition[c+"transform"]=c+"translate3d(0,0,0)",s.perspective[c+"perspective"]=s.perspectiveDistance+"px",s.perspective[c+"perspective-origin"]=s.perspectiveOrigin}var d=s.targetSelector,f=a.find(d);f.each(function(){this.data={}});var p=f.parent();p.css(s.perspective),s.easingFallback="ease-in-out","smooth"==s.easing&&(s.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==s.easing&&(s.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==s.easing&&(s.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",s.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==s.easing&&(s.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",s.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");var u="list"==s.layoutMode&&null!=s.listEffects?s.listEffects:s.effects;Array.prototype.indexOf&&(s.fade=-1<u.indexOf("fade")?"0":"",s.scale=-1<u.indexOf("scale")?"scale(.01)":"",s.rotateZ=-1<u.indexOf("rotateZ")?"rotate(180deg)":"",s.rotateY=-1<u.indexOf("rotateY")?"rotateY(90deg)":"",s.rotateX=-1<u.indexOf("rotateX")?"rotateX(90deg)":"",s.blur=-1<u.indexOf("blur")?"blur(8px)":"",s.grayscale=-1<u.indexOf("grayscale")?"grayscale(100%)":"");var h=b(),g=b(),v=[],y=!1;"string"==typeof t?v=D(t):(y=!0,b.each(t,function(t){v[t]=D(this)})),"or"==s.filterLogic?(""==v[0]&&v.shift(),v.length<1?g=g.add(a.find(d+":visible")):f.each(function(){var t=b(this);if(y){var e=0;b.each(v,function(){this.length?t.is("."+this.join(", ."))&&e++:0<e&&e++}),e==v.length?h=h.add(t):g=g.add(t)}else t.is("."+v.join(", ."))?h=h.add(t):g=g.add(t)})):(h=h.add(p.find(d+"."+v.join("."))),g=g.add(p.find(d+":not(."+v.join(".")+"):visible")));var m=h.length,x=b(),C=b(),O=b();if(g.each(function(){var t=b(this);"none"!=t.css("display")&&(x=x.add(t),O=O.add(t))}),h.filter(":visible").length==m&&!x.length&&!e){if(s.origLayout==s.layoutMode)return n(),!1;if(1==h.length)return"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass),O.css("display",s.targetDisplayList)):(a.addClass(s.gridClass),a.removeClass(s.listClass),O.css("display",s.targetDisplayGrid)),n(),!1}if(s.origHeight=p.height(),h.length){if(a.removeClass(s.failClass),h.each(function(){var t=b(this);"none"==t.css("display")?C=C.add(t):O=O.add(t)}),s.origLayout!=s.layoutMode&&0==s.animateGridList)return"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass),O.css("display",s.targetDisplayList)):(a.addClass(s.gridClass),a.removeClass(s.listClass),O.css("display",s.targetDisplayGrid)),n(),!1;if(!window.atob)return n(),!1;if(f.css(s.clean),O.each(function(){this.data.origPos=b(this).offset()}),"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass),C.css("display",s.targetDisplayList)):(a.addClass(s.gridClass),a.removeClass(s.listClass),C.css("display",s.targetDisplayGrid)),C.each(function(){this.data.showInterPos=b(this).offset()}),x.each(function(){this.data.hideInterPos=b(this).offset()}),O.each(function(){this.data.preInterPos=b(this).offset()}),"list"==s.layoutMode?O.css("display",s.targetDisplayList):O.css("display",s.targetDisplayGrid),e&&w(e,i,a,s),e&&L(s.origSort,s.checkSort))return n(),!1;x.hide(),C.each(function(){this.data.finalPos=b(this).offset()}),O.each(function(){this.data.finalPrePos=b(this).offset()}),s.newHeight=p.height(),e&&w("reset",null,a,s),C.hide(),O.css("display",s.origDisplay),"block"==s.origDisplay?(a.addClass(s.listClass),C.css("display",s.targetDisplayList)):(a.removeClass(s.listClass),C.css("display",s.targetDisplayGrid)),s.resizeContainer&&p.css("height",s.origHeight+"px");var S={};for(l=0;l<2;l++){S[(c=0==l?c=s.prefix:"")+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,S[c+"filter"]=s.blur+" "+s.grayscale}C.css(S),O.each(function(){var t=this.data,e=b(this);e.hasClass("mix_tohide")?(t.preTX=t.origPos.left-t.hideInterPos.left,t.preTY=t.origPos.top-t.hideInterPos.top):(t.preTX=t.origPos.left-t.preInterPos.left,t.preTY=t.origPos.top-t.preInterPos.top);for(var i={},r=0;r<2;r++){var a=0==r?a=s.prefix:"";i[a+"transform"]="translate("+t.preTX+"px,"+t.preTY+"px)"}e.css(i)}),"list"==s.layoutMode?(a.addClass(s.listClass),a.removeClass(s.gridClass)):(a.addClass(s.gridClass),a.removeClass(s.listClass));setTimeout(function(){if(s.resizeContainer){for(var t={},e=0;e<2;e++){t[(r=0==e?r=s.prefix:"")+"transition"]="all "+o+"ms ease-in-out",t.height=s.newHeight+"px"}p.css(t)}x.css("opacity",s.fade),C.css("opacity",1),C.each(function(){var t=this.data;t.tX=t.finalPos.left-t.showInterPos.left,t.tY=t.finalPos.top-t.showInterPos.top;for(var e={},i=0;i<2;i++){var r=0==i?r=s.prefix:"";e[r+"transition-property"]=r+"transform, "+r+"filter, opacity",e[r+"transition-timing-function"]=s.easing+", linear, linear",e[r+"transition-duration"]=o+"ms",e[r+"transition-delay"]="0",e[r+"transform"]="translate("+t.tX+"px,"+t.tY+"px)",e[r+"filter"]="none"}b(this).css("-webkit-transition","all "+o+"ms "+s.easingFallback).css(e)}),O.each(function(){var t=this.data;t.tX=0!=t.finalPrePos.left?t.finalPrePos.left-t.preInterPos.left:0,t.tY=0!=t.finalPrePos.left?t.finalPrePos.top-t.preInterPos.top:0;for(var e={},i=0;i<2;i++){var r=0==i?r=s.prefix:"";e[r+"transition"]="all "+o+"ms "+s.easing,e[r+"transform"]="translate("+t.tX+"px,"+t.tY+"px)"}b(this).css("-webkit-transition","all "+o+"ms "+s.easingFallback).css(e)});var i={};for(e=0;e<2;e++){var r;i[(r=0==e?r=s.prefix:"")+"transition"]="all "+o+"ms "+s.easing+", "+r+"filter "+o+"ms linear, opacity "+o+"ms linear",i[r+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,i[r+"filter"]=s.blur+" "+s.grayscale,i.opacity=s.fade}x.css(i),p.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(-1<t.originalEvent.propertyName.indexOf("transform")||-1<t.originalEvent.propertyName.indexOf("opacity"))&&(-1<d.indexOf(".")?b(t.target).hasClass(d.replace(".",""))&&n():b(t.target).is(d)&&n())})},10);s.failsafe=setTimeout(function(){s.mixing&&n()},o+400)}else{if(s.resizeContainer&&p.css("height",s.origHeight+"px"),!window.atob)return n(),!1;x=g;setTimeout(function(){if(p.css(s.perspective),s.resizeContainer){for(var t={},e=0;e<2;e++){t[(r=0==e?r=s.prefix:"")+"transition"]="height "+o+"ms ease-in-out",t.height=s.minHeight+"px"}p.css(t)}if(f.css(s.transition),g.length){var i={};for(e=0;e<2;e++){var r;i[(r=0==e?r=s.prefix:"")+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,i[r+"filter"]=s.blur+" "+s.grayscale,i.opacity=s.fade}x.css(i),p.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(-1<t.originalEvent.propertyName.indexOf("transform")||-1<t.originalEvent.propertyName.indexOf("opacity"))&&(a.addClass(s.failClass),n())})}else s.mixing=!1},10)}}function w(a,e,t,i){function r(t,e){var i=isNaN(1*t.attr(a))?t.attr(a).toLowerCase():1*t.attr(a),r=isNaN(1*e.attr(a))?e.attr(a).toLowerCase():1*e.attr(a);return i<r?-1:r<i?1:0}function s(t){"asc"==e?o.prepend(t).prepend(" "):o.append(t).append(" ")}function n(t){for(var e=t.slice(),i=e.length,r=i;r--;){var a=parseInt(Math.random()*i),s=e[r];e[r]=e[a],e[a]=s}return e}t.find(i.targetSelector).wrapAll('<div class="mix_sorter"/>');var o=t.find(".mix_sorter");if(i.origSort.length||o.find(i.targetSelector+":visible").each(function(){b(this).wrap("<s/>"),i.origSort.push(b(this).parent().html().replace(/\s+/g,"")),b(this).unwrap()}),o.empty(),"reset"==a)b.each(i.startOrder,function(){o.append(this).append(" ")});else if("default"==a)b.each(i.origOrder,function(){s(this)});else if("random"==a)i.newOrder.length||(i.newOrder=n(i.startOrder)),b.each(i.newOrder,function(){o.append(this).append(" ")});else if("custom"==a)b.each(e,function(){s(this)});else{if(void 0===i.origOrder[0].attr(a))return console.log("No such attribute found. Terminating"),!1;i.newOrder.length||(b.each(i.origOrder,function(){i.newOrder.push(b(this))}),i.newOrder.sort(r)),b.each(i.newOrder,function(){s(this)})}i.checkSort=[],o.find(i.targetSelector+":visible").each(function(t){var e=b(this);0==t&&e.attr("data-checksum","1"),e.wrap("<s/>"),i.checkSort.push(e.parent().html().replace(/\s+/g,"")),e.unwrap()}),t.find(i.targetSelector).unwrap()}function d(t){for(var e=["Webkit","Moz","O","ms"],i=0;i<e.length;i++)if(e[i]+"Transition"in t.style)return e[i];return"transition"in t.style&&""}function L(t,e){if(t.length!=e.length)return!1;for(var i=0;i<e.length;i++){if(t[i].compare&&!t[i].compare(e[i]))return!1;if(t[i]!==e[i])return!1}return!0}function D(t){var e=(t=t.replace(/\s{2,}/g," ")).split(" ");return b.each(e,function(t){"all"==this&&(e[t]="mix_all")}),""==e[0]&&e.shift(),e}var e={init:function(l){return this.each(function(){var r={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};l&&b.extend(r,l),this.config=r,b.support.touch="ontouchend"in document,b.support.touch&&(r.isTouch=!0,r.resetDelay=350),r.container=b(this);var t,e,a=r.container;(r.prefix=d(a[0]),r.prefix=r.prefix?"-"+r.prefix.toLowerCase()+"-":"",a.find(r.targetSelector).each(function(){r.origOrder.push(b(this))}),r.sortOnLoad)&&(b.isArray(r.sortOnLoad)?(t=r.sortOnLoad[0],e=r.sortOnLoad[1],b(r.sortSelector+"[data-sort="+r.sortOnLoad[0]+"][data-order="+r.sortOnLoad[1]+"]").addClass("active")):(b(r.sortSelector+"[data-sort="+r.sortOnLoad+"]").addClass("active"),t=r.sortOnLoad,r.sortOnLoad="desc"),w(t,e,a,r));for(var i=0;i<2;i++){var s=0==i?s=r.prefix:"";r.transition[s+"transition"]="all "+r.transitionSpeed+"ms ease-in-out",r.perspective[s+"perspective"]=r.perspectiveDistance+"px",r.perspective[s+"perspective-origin"]=r.perspectiveOrigin}for(i=0;i<2;i++){s=0==i?s=r.prefix:"";r.clean[s+"transition"]="none"}"list"==r.layoutMode?(a.addClass(r.listClass),r.origDisplay=r.targetDisplayList):(a.addClass(r.gridClass),r.origDisplay=r.targetDisplayGrid),r.origLayout=r.layoutMode;var n=r.showOnLoad.split(" ");b.each(n,function(){b(r.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),a.find(r.targetSelector).addClass("mix_all"),"all"==n[0]&&(n[0]="mix_all",r.showOnLoad="mix_all");var o=b();b.each(n,function(){o=o.add(b("."+this))}),o.each(function(){var t=b(this);"list"==r.layoutMode?t.css("display",r.targetDisplayList):t.css("display",r.targetDisplayGrid),t.css(r.transition)});setTimeout(function(){r.mixing=!0,o.css("opacity","1");setTimeout(function(){if("list"==r.layoutMode?o.removeStyle(r.prefix+"transition, transition").css({display:r.targetDisplayList,opacity:1}):o.removeStyle(r.prefix+"transition, transition").css({display:r.targetDisplayGrid,opacity:1}),r.mixing=!1,"function"==typeof r.onMixLoad){var t=r.onMixLoad.call(this,r);r=t||r}},r.transitionSpeed)},10);r.filter=r.showOnLoad,b(r.sortSelector).bind(r.buttonEvent,function(){if(!r.mixing){var t=b(this),e=t.attr("data-sort"),i=t.attr("data-order");if(t.hasClass("active")){if("random"!=e)return!1}else b(r.sortSelector).removeClass("active"),t.addClass("active");a.find(r.targetSelector).each(function(){r.startOrder.push(b(this))}),c(r.filter,e,i,a,r)}}),b(r.filterSelector).bind(r.buttonEvent,function(){if(!r.mixing){var t=b(this);if(0==r.multiFilter)b(r.filterSelector).removeClass("active"),t.addClass("active"),r.filter=t.attr("data-filter"),b(r.filterSelector+'[data-filter="'+r.filter+'"]').addClass("active");else{var e=t.attr("data-filter");if(t.hasClass("active")){t.removeClass("active");var i=new RegExp("(\\s|^)"+e);r.filter=r.filter.replace(i,"")}else t.addClass("active"),r.filter=r.filter+" "+e}c(r.filter,null,null,a,r)}})})},toGrid:function(){return this.each(function(){var t=this.config;"grid"!=t.layoutMode&&(t.layoutMode="grid",c(t.filter,null,null,b(this),t))})},toList:function(){return this.each(function(){var t=this.config;"list"!=t.layoutMode&&(t.layoutMode="list",c(t.filter,null,null,b(this),t))})},filter:function(e){return this.each(function(){var t=this.config;t.mixing||(b(t.filterSelector).removeClass("active"),b(t.filterSelector+'[data-filter="'+e+'"]').addClass("active"),c(e,null,null,b(this),t))})},sort:function(a){return this.each(function(){var t=this.config,e=b(this);if(!t.mixing){if(b(t.sortSelector).removeClass("active"),b.isArray(a)){var i=a[0],r=a[1];b(t.sortSelector+'[data-sort="'+a[0]+'"][data-order="'+a[1]+'"]').addClass("active")}else{b(t.sortSelector+'[data-sort="'+a+'"]').addClass("active");i=a,r="desc"}e.find(t.targetSelector).each(function(){t.startOrder.push(b(this))}),c(t.filter,i,r,e,t)}})},multimix:function(i){return this.each(function(){var t=this.config,e=b(this);multiOut={filter:t.filter,sort:null,order:"desc",layoutMode:t.layoutMode},b.extend(multiOut,i),t.mixing||(b(t.filterSelector).add(t.sortSelector).removeClass("active"),b(t.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),"undefined"!=typeof multiOut.sort&&(b(t.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),e.find(t.targetSelector).each(function(){t.startOrder.push(b(this))})),t.layoutMode=multiOut.layoutMode,c(multiOut.filter,multiOut.sort,multiOut.order,e,t))})},remix:function(i){return this.each(function(){var e=this.config,t=b(this);e.origOrder=[],t.find(e.targetSelector).each(function(){var t=b(this);t.addClass("mix_all"),e.origOrder.push(t)}),e.mixing||void 0===i||(b(e.filterSelector).removeClass("active"),b(e.filterSelector+'[data-filter="'+i+'"]').addClass("active"),c(i,null,null,t,e))})}};b.fn.mixitup=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)},b.fn.removeStyle=function(i){return this.each(function(){var t=b(this),e=(i=i.replace(/\s+/g,"")).split(",");b.each(e,function(){var i=new RegExp(this.toString()+"[^;]+;?","g");t.attr("style",function(t,e){if(e)return e.replace(i,"")})})})}}(jQuery);